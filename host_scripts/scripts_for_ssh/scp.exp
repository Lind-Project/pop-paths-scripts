#!/usr/bin/expect -d

set date [exec date "+%d-%B-%Y"]
spawn bash -c 'sudo scp -P 2222 -r "ubuntu@localhost:/home/ubuntu/GCOV_DATA" /hdd/GCOV_DATA/${date}'

expect {
    "yes/no" {
        send "yes\r"
        expect "*?assword" {send "password\r"}
    } 
    
    "*?assword" {send "password\r"}
}

interact